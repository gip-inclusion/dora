models:
  - name: mb_user
    config:
      indexes:
        - columns: [id]
          unique: true
    columns:
      - name: id
        data_tests:
          - unique
          - not_null
  - name: mb_structure
    config:
      indexes:
        - columns: [id]
          unique: true
    columns:
      - name: id
        data_tests:
          - unique
          - not_null

# ceux-ci sont systématiquement l'union de deux tables très similaires...
  - name: mb_mobilisationevent_all
    config:
      indexes:
        - columns: [id]
          unique: true
    columns:
      - name: id
        data_tests:
          - unique
          - not_null
  - name: mb_mobilisationevent_categories_all
  - name: mb_serviceview_all
    config:
      indexes:
        - columns: [id]
          unique: true
        - columns: [structure_id]
        - columns: [user_id]
        - columns: [is_staff, is_manager]
    columns:
      - name: id
        data_tests:
          - unique
          - not_null
  # ceux-ci dépendent de mb_all_service
  # il n'avait pas de PK, on la met ? On la généralise ?
  - name: mb_service
    config:
      indexes:
        - columns: [id]
          unique: true
    columns:
      - name: id
        data_tests:
          - unique
          - not_null
