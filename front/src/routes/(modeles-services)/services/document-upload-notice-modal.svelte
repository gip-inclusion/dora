<script lang="ts">
  import Modal from "$lib/components/hoc/modal.svelte";
  import CloseLineSystem from "svelte-remix/CloseLineSystem.svelte";
  import Button from "$lib/components/display/button.svelte";

  interface Props {
    isOpen: boolean;
    onClose: () => void;
    onConfirm: () => void;
  }

  const { isOpen, onClose, onConfirm }: Props = $props();
</script>

<Modal {isOpen} hideCloseButton hideTitle hideOverflow width="medium">
  <div class="flex flex-col overflow-hidden">
    <Button
      extraClass="self-end"
      label="Fermer"
      onclick={onClose}
      icon={CloseLineSystem}
      iconOnRight
      noBackground
      noPadding
    />
    <h2>Notice dâ€™informations&nbsp;: PiÃ¨ces justificatives</h2>
    <h6 class="text-gray-text">
      Toute demande de piÃ¨ces justificatives est rÃ©glementÃ©e. Veuillez prendre
      connaissance de la notice suivante :
    </h6>
    <div class="mt-s16 border-gray-02 border-1">
      <div class=" p-s16 gap-s32 flex max-h-[24rem] flex-col overflow-y-scroll">
        <div class="flex flex-col items-center justify-center">
          <h4 class="text-france-blue mb-s0">Notice dâ€™information</h4>
          <h4 class="text-france-blue mb-s0">PiÃ¨ces justificatives</h4>
        </div>
        <div>
          <h4>Suis-je responsable des donnÃ©es&nbsp;?</h4>
          <div class="gap-s16 flex justify-center">
            <div
              class="bg-service-violet p-s16 flex flex-col items-center justify-center rounded-md"
            >
              <h4>ğŸ“¥ Je reÃ§ois une orientation</h4>
              <p class="text-f14 text-gray-text">
                Vous Ãªtes considÃ©rÃ© comme le â€œresponsable de traitementâ€. Câ€™est
                vous qui dÃ©terminez quelles piÃ¨ces et donnÃ©e sont nÃ©cessaires
                pour valider lâ€™orientation.
              </p>
            </div>
            <div
              class="bg-service-violet p-s16 flex flex-col items-center justify-center rounded-md"
            >
              <h4>ğŸ“¤ Jâ€™aide Ã  une orientation</h4>
              <p class="text-f14 text-gray-text">
                Vous nâ€™Ãªtes pas le responsable principal. Vous intÃ©grez les
                donnÃ©es, mais câ€™est lâ€™organisme rÃ©cepteur qui les traite et en
                est responsable.
              </p>
            </div>
          </div>
        </div>
        <div>
          <h4>Quâ€™en est-il du GIP Plateforme de lâ€™inclusion&nbsp;?</h4>
          <p class="text-f14 text-gray-text">
            Il est co-responsable de traitement, car il dÃ©cide notamment
            dâ€™Ã©lÃ©ments importants comme les durÃ©es de conservation et certaines
            modalitÃ©s.
          </p>
        </div>
        <div>
          <h4>Quelles piÃ¨ces justificatives puis-je demander&nbsp;?</h4>
          <p class="text-f14 text-gray-text">
            Pour respecter le principe de minimisation du RGPD. Les donnÃ©es
            doivent Ãªtre nÃ©cessaires pour savoir si lâ€™orientation vers vous est
            valable. Elles ne doivent pas conduire Ã  une prÃ©-inscription qui
            devra se faire directement auprÃ¨s de vous
          </p>
        </div>
        <div
          class="bg-service-violet p-s16 gap-s8 flex flex-col items-center justify-center rounded-md"
        >
          <h5>A faire</h5>
          <div class="flex justify-between">
            <span class="mr-s16">âœ…</span>
            <p class="text-f14 text-gray-text">
              <b>Identifier le bÃ©nÃ©ficiaire&nbsp;: </b>Demander des piÃ¨ces qui
              prouvent que le bÃ©nÃ©ficiaire fait partie du public que vous
              accompagnez.
            </p>
          </div>
          <div class="flex justify-between">
            <span class="mr-s16">âœ…</span>
            <p class="text-f14 text-gray-text">
              <b>Se concentrer sur le bÃ©nÃ©ficiaire&nbsp;: </b>
              Ne collecter des donnÃ©es sur des tiers que si câ€™est indispensable pour
              lâ€™orientation et si vous pouvez les informer.
            </p>
          </div>
        </div>
        <div
          class="bg-service-violet p-s16 gap-s8 flex flex-col items-center justify-center rounded-md"
        >
          <h5>A Ã©viter</h5>
          <div class="flex justify-between">
            <span class="mr-s16">âŒ</span>
            <p class="text-f14 text-gray-text">
              <b>La prÃ©-inscription&nbsp;: </b>
              Ne pas utiliser Dora pour des prÃ©-inscriptions. Ces dÃ©marches doivent
              se faire directement auprÃ¨s de votre organisme.
            </p>
          </div>
        </div>
        <h4>Quelles piÃ¨ces justificatives puis-je demander&nbsp;?</h4>
        <div
          class="bg-service-violet p-s16 gap-s8 flex flex-col items-center justify-center rounded-md"
        >
          <h5>Le rÃ´le de Vigie du GIP</h5>
          <div class="flex justify-between">
            <span class="mr-s16">ğŸ›¡ï¸</span>
            <p class="text-f14 text-gray-text">
              Le GIP assure une veille. De maniÃ¨re alÃ©atoire ou en cas de doute,
              il peut vous contacter pour comprendre la justification de la
              demande dâ€™une piÃ¨ce justificative.
            </p>
          </div>
        </div>
        <div>
          <h4 class="text-france-blue">
            Certaines donnÃ©es sont-elles interdites dans Dora&nbsp;?
          </h4>
          <p class="text-f14 text-gray-text">
            Pour des raisons de sÃ©curitÃ© notamment, les RIB, les cartes vitales
            et le NIR ne peuvent Ãªtre traitÃ©es sur Dora, et toute donnÃ©e
            sensible qui nâ€™est pas indispensable.
          </p>
        </div>
        <div>
          <h4 class="text-france-blue">
            Qui peut avoir accÃ¨s aux fiches dâ€™orientation&nbsp;?
          </h4>
          <p class="text-f14 text-gray-text">
            Il revient Ã  chaque organisme de dÃ©terminer qui a accÃ¨s aux fiches
            et aux piÃ¨ces justificatives. Si lâ€™organisme a plusieurs comptes,
            par dÃ©faut, nâ€™ouvrez pas lâ€™accÃ¨s Ã  toute personne de votre
            organisation sans raison. Cela respectera le principe de
            minimisation et renforcera la sÃ©curitÃ© des donnÃ©es.
          </p>
          <p class="text-f14 text-gray-text">
            Chacune doit rÃ©pondre dans un dÃ©lai raisonnable.
          </p>
        </div>
        <div class="border-gray-02 pb-s8 border-b-1">
          <h4 class="text-france-blue">
            Quels sont les droits des personnes&nbsp;?
          </h4>
          <p class="text-f14 text-gray-text">
            Les bÃ©nÃ©ficiaires peuvent sâ€™opposer au traitement de leurs donnÃ©es,
            y compris dans le cadre dâ€™orientation. Sâ€™ils en font la demande, les
            donnÃ©es ne sont plus utilisÃ©es et il peut Ãªtre procÃ©dÃ© Ã  la
            suppression des donnÃ©es.
          </p>
        </div>
        <div class="bg-service-violet p-s16 rounded-md">
          <h4 class="m-s0">Pour en savoir plus&nbsp;...</h4>
          <ul class="p-s16 list-disc">
            <li class="m-s0 text-f14 text-gray-text">
              La <a
                class="text-magenta-cta"
                href="/politique-de-confidentialite"
                target="_blank"
                rel="noopener nofollow">politique de confidentialitÃ© de Dora</a
              >
            </li>
            <li class="m-s0 text-f14 text-gray-text">
              L'<a
                class="text-magenta-cta"
                href="/cgu#accord_co_responsabilite"
                target="_blank"
                rel="noopener nofollow">accord de co-responsabilitÃ©</a
              > entre le GIP et vous
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-s16 pt-s16 border-gray-02 pb-s8 flex justify-end border-t-1">
    <Button
      id="document-upload-notice-accept-button"
      label="J'ai compris"
      onclick={onConfirm}
    />
  </div>
</Modal>
