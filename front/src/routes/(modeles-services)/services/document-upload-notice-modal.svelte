<script lang="ts">
  import Modal from "$lib/components/hoc/modal.svelte";
  import CloseLineSystem from "svelte-remix/CloseLineSystem.svelte";
  import Button from "$lib/components/display/button.svelte";

  interface Props {
    isOpen: boolean;
    onClose: () => void;
    onConfirm: () => void;
  }

  const { isOpen, onClose, onConfirm }: Props = $props();
</script>

<Modal {isOpen} hideCloseButton hideTitle hideOverflow width="medium">
  <div class="flex flex-col overflow-hidden">
    <Button
      extraClass="self-end"
      label="Fermer"
      onclick={onClose}
      icon={CloseLineSystem}
      iconOnRight
      noBackground
      noPadding
    />
    <h2>Notice d‚Äôinformations&nbsp;:&nbsp;Pi√®ces justificatives</h2>
    <h6 class="text-gray-text">
      Toute demande de pi√®ces justificatives est r√©glement√©e. Veuillez prendre
      connaissance de la notice suivante :
    </h6>
    <div class="mt-s16 border-gray-02 border-1">
      <div class=" p-s16 gap-s32 flex max-h-[24rem] flex-col overflow-y-scroll">
        <div class="flex flex-col items-center justify-center">
          <h4 class="text-france-blue mb-s0">Notice d‚Äôinformation</h4>
          <h4 class="text-france-blue mb-s0">Pi√®ces justificatives</h4>
        </div>
        <div>
          <h4>Suis-je responsable des donn√©es&nbsp;?</h4>
          <div class="gap-s16 flex justify-center">
            <div
              class="bg-service-violet p-s16 flex flex-col items-center justify-center rounded-md"
            >
              <h4>üì• Je re√ßois une orientation</h4>
              <p class="text-f14 text-gray-text">
                Vous √™tes consid√©r√© comme le ‚Äúresponsable de traitement‚Äù. C‚Äôest
                vous qui d√©terminez quelles pi√®ces et donn√©e sont n√©cessaires
                pour valider l‚Äôorientation.
              </p>
            </div>
            <div
              class="bg-service-violet p-s8 flex flex-col items-center justify-center rounded-md"
            >
              <h4>üì§ Je re√ßois une orientation</h4>
              <p class="text-f14 text-gray-text">
                Vous n‚Äô√™tes pas le responsable principal. Vous int√©grez les
                donn√©es, mais c‚Äôest l‚Äôorganisme r√©cepteur qui les traite et en
                est responsable.
              </p>
            </div>
          </div>
        </div>
        <div>
          <h4>Qu‚Äôen est-il du GIP Plateforme de l‚Äôinclusion&nbsp;?</h4>
          <p class="text-f14 text-gray-text">
            Il est co-responsable de traitement, car il d√©cide notamment
            d‚Äô√©l√©ments importants comme les dur√©es de conservation et certaines
            modalit√©s.
          </p>
        </div>
        <div>
          <h4>Quelles pi√®ces justificatives puis-je demander&nbsp;?</h4>
          <p class="text-f14 text-gray-text">
            Pour respecter le principe de minimisation du RGPD. Les donn√©es
            doivent √™tre n√©cessaires pour savoir si l‚Äôorientation vers vous est
            valable. Elles ne doivent pas conduire √† une pr√©-inscription qui
            devra se faire directement aupr√®s de vous
          </p>
        </div>
        <div
          class="bg-service-violet p-s16 gap-s8 flex flex-col items-center justify-center rounded-md"
        >
          <h5>A faire</h5>
          <div class="flex justify-between">
            <span class="mr-s16">‚úÖ</span>
            <p class="text-f14 text-gray-text">
              <b>Identifier le b√©n√©ficiaire&nbsp;?&nbsp;:&nbsp;</b>Demander des
              pi√®ces qui prouvent que le b√©n√©ficiaire fait partie du public que
              vous accompagnez.
            </p>
          </div>
          <div class="flex justify-between">
            <span class="mr-s16">‚úÖ</span>
            <p class="text-f14 text-gray-text">
              <b>Se concentrer sur le b√©n√©ficiaire&nbsp;?&nbsp;:&nbsp;</b>
              Ne collecter des donn√©es sur des tiers que si c‚Äôest indispensable pour
              l‚Äôorientation et si vous pouvez les informer.
            </p>
          </div>
        </div>
        <div
          class="bg-service-violet p-s16 gap-s8 flex flex-col items-center justify-center rounded-md"
        >
          <h5>A √©viter</h5>
          <div class="flex justify-between">
            <span class="mr-s16">‚ùå</span>
            <p class="text-f14 text-gray-text">
              <b>La pr√©-inscription&nbsp;?&nbsp;:&nbsp;</b>
              Ne pas utiliser Dora pour des pr√©-inscriptions. Ces d√©marches doivent
              se faire directement aupr√®s de votre organisme.
            </p>
          </div>
        </div>
        <h4>Quelles pi√®ces justificatives puis-je demander&nbsp;?</h4>
        <div
          class="bg-service-violet p-s16 gap-s8 flex flex-col items-center justify-center rounded-md"
        >
          <h5>Le r√¥le de Vigie du GIP</h5>
          <div class="flex justify-between">
            <span class="mr-s16">üõ°Ô∏è</span>
            <p class="text-f14 text-gray-text">
              <b>La pr√©-inscription&nbsp;?&nbsp;:&nbsp;</b>
              Le GIP assure une veille. De mani√®re al√©atoire ou en cas de doute, il
              peut vous contacter pour comprendre la justification de la demande d‚Äôune
              pi√®ce justificative.
            </p>
          </div>
        </div>
        <div>
          <h4 class="text-france-blue">
            Certaines donn√©es sont-elles interdites dans Dora&nbsp;?
          </h4>
          <p class="text-f14 text-gray-text">
            Pour des raisons de s√©curit√© notamment, les RIB, les cartes vitales
            et le NIR ne peuvent √™tre trait√©es sur Dora, et toute donn√©e
            sensible qui n‚Äôest pas indispensable.
          </p>
        </div>
        <div>
          <h4 class="text-france-blue">
            Qui peut avoir acc√®s aux fiches d‚Äôorientation&nbsp;?
          </h4>
          <p class="text-f14 text-gray-text">
            Il revient √† chaque organisme de d√©terminer qui a acc√®s aux fiches
            et aux pi√®ces justificatives. Si l‚Äôorganisme a plusieurs comptes,
            par d√©faut, n‚Äôouvrez pas l‚Äôacc√®s √† toute personne de votre
            organisation sans raison. Cela respectera le principe de
            minimisation et renforcera la s√©curit√© des donn√©es.
          </p>
          <p class="text-f14 text-gray-text">
            Chacune doit r√©pondre dans un d√©lai raisonnable.
          </p>
        </div>
        <div class="border-gray-02 pb-s8 border-b-1">
          <h4 class="text-france-blue">
            Quels sont les droits des personnes&nbsp;?
          </h4>
          <p class="text-f14 text-gray-text">
            Les b√©n√©ficiaires peuvent s‚Äôopposer au traitement de leurs donn√©es,
            y compris dans le cadre d‚Äôorientation. S‚Äôils en font la demande, les
            donn√©es ne sont plus utilis√©es et il peut √™tre proc√©d√© √† la
            suppression des donn√©es.
          </p>
        </div>
        <div class="bg-service-violet p-s16 rounded-md">
          <h4 class="m-s0">Pour en savoir plus&nbsp;...</h4>
          <ul class="p-s16 list-disc">
            <li class="m-s0 text-f14 text-gray-text">
              La <a
                class="text-magenta-cta"
                href="/politique-de-confidentialite"
                >politique de confidentialit√© de Dora</a
              >
            </li>
            <li class="m-s0 text-f14 text-gray-text">
              L'<a class="text-magenta-cta" href="/politique-de-confidentialite"
                >accord de co-responsabilit√©</a
              > entre le GIP et vous
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-s16 pt-s16 border-gray-02 pb-s8 flex justify-end border-t-1">
    <Button
      id={`document-upload-notice-accept-button`}
      label="J'ai compris"
      onclick={onConfirm}
    />
  </div>
</Modal>
